var app=function(){"use strict";function t(){}function e(t){return t()}function i(){return Object.create(null)}function o(t){t.forEach(e)}function n(t){return"function"==typeof t}function a(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function d(t,e){t.appendChild(e)}function r(t,e,i){t.insertBefore(e,i||null)}function s(t){t.parentNode.removeChild(t)}function u(t){return document.createElement(t)}function c(){return t=" ",document.createTextNode(t);var t}function h(t,e,i){null==i?t.removeAttribute(e):t.getAttribute(e)!==i&&t.setAttribute(e,i)}function l(t,e,i){e in t?t[e]=i:h(t,e,i)}let p;function f(t){p=t}function m(t){(function(){if(!p)throw new Error("Function called outside component initialization");return p})().$$.before_update.push(t)}const g=[],y=[],b=[],v=[],w=Promise.resolve();let R=!1;function $(t){b.push(t)}function z(){const t=new Set;do{for(;g.length;){const t=g.shift();f(t),E(t.$$)}for(;y.length;)y.pop()();for(let e=0;e<b.length;e+=1){const i=b[e];t.has(i)||(i(),t.add(i))}b.length=0}while(g.length);for(;v.length;)v.pop()();R=!1}function E(t){null!==t.fragment&&(t.update(),o(t.before_update),t.fragment&&t.fragment.p(t.ctx,t.dirty),t.dirty=[-1],t.after_update.forEach($))}const x=new Set;function _(t,e){-1===t.$$.dirty[0]&&(g.push(t),R||(R=!0,w.then(z)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function T(a,d,r,s,u,c,h=[-1]){const l=p;f(a);const m=d.props||{},g=a.$$={fragment:null,ctx:null,props:c,update:t,not_equal:u,bound:i(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(l?l.$$.context:[]),callbacks:i(),dirty:h};let y=!1;var b,v;g.ctx=r?r(a,m,(t,e,i=e)=>(g.ctx&&u(g.ctx[t],g.ctx[t]=i)&&(g.bound[t]&&g.bound[t](i),y&&_(a,t)),e)):[],g.update(),y=!0,o(g.before_update),g.fragment=!!s&&s(g.ctx),d.target&&(d.hydrate?g.fragment&&g.fragment.l(function(t){return Array.from(t.childNodes)}(d.target)):g.fragment&&g.fragment.c(),d.intro&&((b=a.$$.fragment)&&b.i&&(x.delete(b),b.i(v))),function(t,i,a){const{fragment:d,on_mount:r,on_destroy:s,after_update:u}=t.$$;d&&d.m(i,a),$(()=>{const i=r.map(e).filter(n);s?s.push(...i):o(i),t.$$.on_mount=[]}),u.forEach($)}(a,d.target,d.anchor),z()),f(l)}class L{$destroy(){!function(t,e){const i=t.$$;null!==i.fragment&&(o(i.on_destroy),i.fragment&&i.fragment.d(e),i.on_destroy=i.fragment=null,i.ctx=[])}(this,1),this.$destroy=t}$on(t,e){const i=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return i.push(e),()=>{const t=i.indexOf(e);-1!==t&&i.splice(t,1)}}$set(){}}function C(){navigator.mediaDevices.getUserMedia({audio:!0,video:{facingMode:{exact:"environment"}}}).then((function(t){document.getElementsByTagName("video").srcObject=t})).catch((function(t){console.log(t)}))}function S(e){let i;return{c(){i=u("p"),i.textContent="Your Browser is not supported"},m(t,e){r(t,i,e)},p:t,d(t){t&&s(i)}}}function M(e){let i,o,n,a,p,f,m,g,y,b,v,w,R,$,z;return{c(){var t;i=u("a-scene"),o=u("a-assets"),n=u("video"),m=c(),t="image",g=document.createElementNS("http://www.w3.org/2000/svg",t),v=c(),w=u("a-marker"),R=u("a-box"),$=c(),z=u("a-entity"),h(n,"id",a=e[1].videoId),h(n,"crossorigin","anonymous"),n.loop=p=e[1].loop,h(n,"webkit-playsinline",""),n.playsInline=!0,n.src!==(f=e[1].videoSrc)&&h(n,"src",f),h(g,"id",y=e[1].imageId),g.src!==(b=e[1].imageSrc)&&h(g,"src",b),l(R,"height","2"),l(R,"width","2"),l(w,"preset","custom"),l(w,"type","pattern"),l(w,"url",A),l(z,"camera",""),l(i,"embedded",""),l(i,"vr-mode-ui","enabled: false"),l(i,"arjs","debugUIEnabled: false; patternRatio:0.8")},m(t,e){r(t,i,e),d(i,o),d(o,n),d(o,m),d(o,g),d(i,v),d(i,w),d(w,R),d(i,$),d(i,z)},p:t,d(t){t&&s(i)}}}function k(e){let i,o;function n(t,e){return t[0]?M:S}let a=n(e),d=a(e);return{c(){i=c(),o=u("main"),d.c()},m(t,e){r(t,i,e),r(t,o,e),d.m(o,null)},p(t,e){a===(a=n(t))&&d?d.p(t,e):(d.d(1),d=a(t),d&&(d.c(),d.m(o,null)))},i:t,o:t,d(t){t&&s(i),t&&s(o),d.d()}}}AFRAME.registerComponent("rounded",{schema:{enabled:{default:!0},width:{type:"number",default:1},height:{type:"number",default:1},radius:{type:"number",default:.3},topLeftRadius:{type:"number",default:-1},topRightRadius:{type:"number",default:-1},bottomLeftRadius:{type:"number",default:-1},bottomRightRadius:{type:"number",default:-1},color:{type:"color",default:"#F0F0F0"},opacity:{type:"number",default:1}},init:function(){this.rounded=new THREE.Mesh(this.draw(),new THREE.MeshPhongMaterial({color:new THREE.Color(this.data.color),side:THREE.DoubleSide})),this.updateOpacity(),this.el.setObject3D("mesh",this.rounded)},update:function(){this.data.enabled?this.rounded&&(this.rounded.visible=!0,this.rounded.geometry=this.draw(),this.rounded.material.color=new THREE.Color(this.data.color),this.updateOpacity()):this.rounded.visible=!1},updateOpacity:function(){this.data.opacity<0&&(this.data.opacity=0),this.data.opacity>1&&(this.data.opacity=1),this.data.opacity<1?this.rounded.material.transparent=!0:this.rounded.material.transparent=!1,this.rounded.material.opacity=this.data.opacity},tick:function(){},remove:function(){this.rounded&&(this.el.object3D.remove(this.rounded),this.rounded=null)},draw:function(){var t=new THREE.Shape;var e,i,o,n,a,d,r,s,u,c=[this.data.radius,this.data.radius,this.data.radius,this.data.radius];return-1!=this.data.topLeftRadius&&(c[0]=this.data.topLeftRadius),-1!=this.data.topRightRadius&&(c[1]=this.data.topRightRadius),-1!=this.data.bottomLeftRadius&&(c[2]=this.data.bottomLeftRadius),-1!=this.data.bottomRightRadius&&(c[3]=this.data.bottomRightRadius),e=t,i=0,o=0,n=this.data.width,a=this.data.height,d=c[0],r=c[1],s=c[2],u=c[3],d||(d=1e-5),r||(r=1e-5),s||(s=1e-5),u||(u=1e-5),e.moveTo(i,o+d),e.lineTo(i,o+a-d),e.quadraticCurveTo(i,o+a,i+d,o+a),e.lineTo(i+n-r,o+a),e.quadraticCurveTo(i+n,o+a,i+n,o+a-r),e.lineTo(i+n,o+u),e.quadraticCurveTo(i+n,o,i+n-u,o),e.lineTo(i+s,o),e.quadraticCurveTo(i,o,i,o+s),new THREE.ShapeBufferGeometry(t)},pause:function(){},play:function(){}}),AFRAME.registerPrimitive("a-rounded",{defaultComponents:{rounded:{}},mappings:{enabled:"rounded.enabled",width:"rounded.width",height:"rounded.height",radius:"rounded.radius","top-left-radius":"rounded.topLeftRadius","top-right-radius":"rounded.topRightRadius","bottom-left-radius":"rounded.bottomLeftRadius","bottom-right-radius":"rounded.bottomRightRadius",color:"rounded.color",opacity:"rounded.opacity"}});const A="pattern-video-qr-code.patt";function D(t,e,i){let o=null;m(()=>{i(0,o=null!=navigator.mediaDevices&&null!=navigator.mediaDevices.enumerateDevices&&null!=navigator.mediaDevices.getUserMedia);let t="visibilitychange";void 0!==typeof document.hidden||(void 0!==typeof document.msHidden?t="msvisibilitychange":void 0!==typeof document.webkitvisibilitychange&&(t="webkitvisibilitychange")),document.addEventListener(t,C,!1)});const n={position:{x:0,y:0,z:0},size:{height:1.5,width:2},videoId:"video_1",videoSrc:"./static/videos/coffee_video.mp4",imageId:"image_1",imageSrc:"./static/images/coffee_cover.png",videoOpts:{loop:"true"}},a={position:{x:n.position.x-n.size.width/2,y:n.position.y+n.size.height/2,z:n.position.z},size:{height:n.size.height/3,width:n.size.width},borderRadius:{topLeft:.05,topRight:.05,bottomLeft:0,bottomRight:0},color:"#333"},d={position:{x:n.position.x-n.size.width/2,y:n.position.y-n.size.height,z:n.position.z},size:{height:n.size.height/2,width:n.size.width},borderRadius:{topLeft:0,topRight:0,bottomLeft:.05,bottomRight:.05},color:"#26869F"};n.position.x,n.size.width,n.position.y,n.size.height,a.size.height,n.position.z,a.size.height,a.size.width,n.position.x,n.size.width,n.position.y,n.size.height,a.size.height,n.position.z,d.size.height,d.size.width;return[o,n]}return new class extends L{constructor(t){super(),T(this,t,D,k,a,{})}}({target:document.body,props:{name:"world"}})}();
//# sourceMappingURL=bundle.js.map
